<%= javascript_include_tag 'jquery.nivo.slider','articles' %>
<%= stylesheet_link_tag "articles","posts","nivo-slider" %>

<header>
  <span class="left-band"></span>
  <div class="right-band">
    <h2><%= @category %></h2>
    <div class="fixed-content">
      <span class="triangle"></span>
    </div>
  </div>
</header>

<% if @main_posts.any? %>
<div class="main_post">
  <div id="slider" class="nivoSlider">
    <% @main_posts.each do |post| %>
      <a href="<%= post_path(post) %>">
        <%= image_tag post.image.rollover.url,:title=> post.title %>    
      </a>
    <% end %>
  </div>
  <span class="shadow"></span>
</div>
<% end %>

<ul class="posts">
  
  <% @posts.each do |post| %>
    <li class="post">
      <div>
        <%= image_tag post.image.heading.url, :alt => post.title %>
        <h2><%= link_to(post.title, post_path(post), :title => post.title) %></h2>
        <p class="date">(<%= post.publish_date.strftime("%d/%m/%y") %>)</p>
        <p class="post"><%= post.excerpt %> ... <%= link_to("seguir leyendo", post_path(post), :title => post.title) %></p>    
        <% if !post.tags.nil? %>
          <ul class="tags">
            <%  post.tags.each do |tag| %>
              <li><a href="#"><%= tag %></a></li>
            <% end %>
          </ul>
        <% end %>
      </div>
      <span class="shadow"></span>
    </li>
  <% end %>
</ul>


<!-- AQUÍ IRÍA EL render "others", como en blog_posts. Llegué a crear el partial para el modulo articles pero me da un error en la paginación y lo he dejado -->

<% if @other_posts.any? %>
  <div class="others" id="others">
    <div class="header">
      <h2>Otros artículos</h2>  
    </div>
    <%= render "shared/others" %>  
  </div>
<% end %>